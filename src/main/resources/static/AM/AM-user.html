<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>用户管理</title>
    <link rel="stylesheet" type="text/css" href="../css/AM-user.css">
</head>
<div style="margin-left: 50px;margin-top: 30px;">
    <button onclick="qx()" class="quan">全选</button>
    <button onclick="fx()" class="fan">反选</button>
    <button onclick="dellist ()" class="pi">批量删除</button>
    <table style="width: 700px;" border="1" cellpadding="10" cellspacing="0">
        <tr style="background-color: lightskyblue;" align="center">
            <td>编号</td>
            <td>用户名</td>
            <td>密码</td>
            <td>操作</td>
        </tr>
    </table>
</div>

<div class="form">
    <div>
        用户名：<input type="text" id="username" /><br>
        <span id="name_span"></span>
    </div>
    <div>
        密码：<input id="password" /><br>
        <span id="price_span"></span>
    </div>
    <button onclick="save()">确定</button>
</div>

</body>
<script type="text/javascript" src="../js/jquery.min.js"></script>
<script>
    //表单验证+添加
    function save () {
        //获取值
        $("span").html("");
        var username = $("#username").val();
        var password =$("#password").val();
        //表单验证
        if(username.length<2||username.length>20||username==''){
            $("#name_span").html("*用户名在2~20个字符").css("color","red");
            return;
        }
        if(password.length<6||password.length>8||username==''){
            $("#price_span").html("*密码在6~8个字符").css("color","red");
            return;
        }
        //添加
        $("table").append("<tr><td><input type='checkbox' id='qxx'></td><td>"+username+"</td><td>"+password+"</td><td><button onclick='del(this)'>删除</button></td></tr>");
    }
    //删除
    function del (a) {
        if (confirm("您是否删除本条数据！！！")) {
            $(a).parent().parent().remove();
        }
    }
    //批量删除
    function dellist () {
        var ids=$("#qxx:checked");
        if (ids.length==0) {
            alert("请选择一条数据");
        }
        ids.each(function  () {
            $(this).parent().parent().remove();
        })
    }
    //全选
    function qx () {
        var ids = $(":checkbox");
        ids.prop("checked",true);
    }
    //反选
    function fx () {
        var ids = $(":checkbox");
        ids.prop("checked",false);
    }
</script>
</html>